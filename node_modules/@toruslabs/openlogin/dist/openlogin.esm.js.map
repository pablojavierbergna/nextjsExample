{"version":3,"file":"openlogin.esm.js","sources":["../src/constants.ts","../src/loglevel.ts","../src/utils.ts","../src/Modal.ts","../src/MemoryStore.ts","../src/OpenLoginStore.ts","../src/Provider.ts","../src/OpenLogin.ts"],"sourcesContent":[null,null,null,null,null,null,null,null],"names":["modalDOMElementID","storeKey","UX_MODE","POPUP","REDIRECT","OPENLOGIN_METHOD","LOGIN","LOGOUT","CHECK_3PC_SUPPORT","SET_PID_DATA","GET_DATA","ALLOWED_INTERACTIONS","JRPC","OPENLOGIN_NETWORK","MAINNET","TESTNET","CYAN","DEVELOPMENT","SUPPORTED_KEY_CURVES","SECP256K1","ED25519","LOGIN_PROVIDER","GOOGLE","FACEBOOK","REDDIT","DISCORD","TWITCH","APPLE","LINE","GITHUB","KAKAO","LINKEDIN","TWITTER","WEIBO","WECHAT","EMAIL_PASSWORDLESS","WEBAUTHN","JWT","MFA_LEVELS","DEFAULT","OPTIONAL","MANDATORY","NONE","loglevel","setLevel","getLogger","documentReady","Promise","resolve","document","readyState","addEventListener","htmlToElement","html","template","window","createElement","trimmedHtml","trim","innerHTML","content","firstChild","whitelistUrl","clientId","appKey","origin","appKeyBuf","Buffer","from","padStart","base64url","encode","getPublic","Error","sig","sign","keccak","update","digest","getHashQueryParams","replaceUrl","result","url","URL","location","href","searchParams","forEach","value","key","queryResult","get","queryParams","JSON","parse","safeatob","Object","keys","error","log","hash","substring","hashUrl","hashResult","hashParams","cleanUrl","pathname","history","replaceState","awaitReq","id","windowRef","reject","closedByHandler","closedMonitor","setInterval","closed","clearInterval","handler","ev","pid","data","removeEventListener","close","constructURL","params","baseURL","query","append","h","toString","storageAvailable","type","storageExists","storageLength","storage","length","x","setItem","removeItem","code","name","sessionStorageAvailable","localStorageAvailable","preloadIframe","openloginIframeHtml","crossOrigin","rel","relList","supports","head","appendChild","getPopupFeatures","dualScreenLeft","screenLeft","undefined","screenX","dualScreenTop","screenTop","screenY","w","width","innerWidth","documentElement","clientWidth","screen","height","innerHeight","clientHeight","systemZoom","left","Math","abs","top","features","handleStream","handle","eventName","handlerWrapper","chunk","removeListener","on","Modal","constructor","modalUrl","init","initIFrame","setupStream","iframeElem","mux","setupMultiplex","PostMessageStream","target","targetWindow","contentWindow","targetOrigin","verifierStream","createStream","src","documentIFrameElem","getElementById","remove","info","modalZIndex","_hideModal","body","onload","initialized","_showModal","style","display","position","right","bottom","border","setAttribute","entries","map","k","v","join","_prompt","whiteLabel","loginConfig","cb","modalHandler","write","cleanup","MemoryStore","getItem","store","OpenLoginStore","resetStore","getInstance","instance","localStorage","toJSON","currStore","getStore","stringify","set","Provider","SafeEventEmitter","iframeUrl","rpcStream","JRPCConnection","createStreamMiddleware","pump","stream","rpcEngine","JRPCEngine","push","createIdRemapMiddleware","middleware","_rpcRequest","payload","callback","jsonrpc","randomId","OpenLogin","options","provider","Proxy","deleteProperty","_iframeUrl","network","modal","initState","no3PC","_startUrl","_popupUrl","redirectUrl","protocol","host","uxMode","replaceUrlOnRedirect","originData","_storageServerUrl","privKey","state","startUrl","popupUrl","support3PC","storageServerUrl","console","all","updateOriginData","sessionId","_syncState","_getData","res","_check3PCSupport","filteredOriginData","whitelist","getWhitelist","getWhiteLabel","signed_urls","_","login","loginProvider","_selectedLogin","_modal","defaultParams","loginParams","request","method","allowedInteractions","logout","logoutParams","_clientId","args","session","userData","timestamp","Date","now","_user","_userSig","_userData","_originData","_whiteLabelData","_loginConfig","_sessionId","includes","_jrpcRequest","_origin","_setPIDData","setTimeout","b64Params","jsonToBase64","_pid","_method","u","open","Array","isArray","getRpcPromiseCallback","newState","cancel","selectedLoginResponse","merge","_cleanup","encrypt","message","privateKey","exec","decrypt","ciphertext","getUserInfo","storeData","userInfo","email","profileImage","aggregateVerifier","verifier","verifierId","typeOfLogin","dappShare","idToken","oAuthIdToken","oAuthAccessToken","getEncodedLoginUrl","dataObject"],"mappings":"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"}